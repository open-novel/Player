
～初めに～
	まずは『お読みください.txt』をお読みください。
	スクリプトファイル、設定ファイルはUTF-8で保存してください。
	スクリプトファイルは一度読み込まれるとキャッシュされるため、そのままでは変更が反映されません。
	「キャッシュ削除」のボタンを押すか、ブラウザを更新してください。
	


～作り方（１）～
	まず、サンプルスクリプトである『作品/デモ・基本/シナリオ/基本.txt』を見てください。
	そして、再生作品選択画面で「デモ・基本」を選び、「初めから」を選択してください。
	このファイルが再生されます。
	スクリプトは専用のコマンドで記述され、上から順番に読み込まれて再生されます。
	スクリプトの形式は『・コマンド名』に続いて改行、そしてタブを入れ、そのコマンド用の内容を書きます。
	例えば会話を表示させるときは、
	
・会話
	・人物１
		文１
	・人物２
		文１
		文２
		文３

	のように書きます。ただし、『会話』コマンドは省略記法が使えます。
	省略記法では、

人物１
	文１
人物２
	文１
	文２
	文３

	のように書きます。
	また、特別なキーワードを書くことによって特殊な表示をさせることが出来ます。
	特別なキーワードについては『会話文のキーワード』の項を参照してください。



～コマンド説明（１）～

	～コメント～
		サンプルスクリプトの一番最初のコマンドは、『コメント』です。
		この内容には自由な文章を書いておけるので、メモ等に利用してください。
		また、『//』で始まる行はコメントとみなされます
		
	～背景～
		このコマンドは直ちに処理され完了します。
		内容には『作品/<作品名>/背景/』、または『作品/[[共通]]/背景/』内の拡張子「jpg」ファイル名を指定します。
		サンプルスクリプトでは内容が「雲」となっていますが、これは『作品/デモ・基本/背景/雲.jpg』を指しています。
		
	～BGM～
		BGMをループで再生します。同時に流せるBGMは１つです。
		「BGM」フォルダ内の「ogg」ファイルのファイル名を指定します。
		
	～会話～
		このコマンドはスクリプトの流れを一旦停止させます。
		会話ウィンドウを更新し、ユーザーがクリック等をして画面を進める操作を行う度に、次の文を表示させます。
		内容を全部表示しきったとき、次のクリックでこのコマンドは完了します。
		また、このコマンドには省略記法が用意されています。
		
	～立ち絵～
		『立絵』でも構いません。このコマンドは直ちに処理され完了します。
		このコマンドは内容に<位置>を書き、さらにその内容に『背景』コマンドと同様に「png」である<ファイル名>を書きます。
		注意すべきことは、このコマンドは画像の追加ではなく、貼り直しのコマンドだということです。
		もし右側に立ち絵が表示されている状態で、<位置>『左』のみを指定すると、<位置>『右』の立ち絵は消えます。
		<位置>は「右」、「左」のほかパーセンテージでも指定できます。『基本_HAPPY.txt』を見てください。
		正数だとプレイヤー左端からの画像左端までの距離、負数だとプレイヤー右端から画像右端までの距離を指定できます。
		「左」は「0%」、「右」は「-0%」と同じです。パーセンテージは半角でも全角でも構いません。少数も使えます。
		次に、『基本_BAD.txt』を見てください。
		パーセンテージで指定する場合は、３つまで指定でき、順に「左右位置」、「上下位置」、「高さ<サイズ>」となります。
		「-30% 60% 30%」であったら、「右から30%」「上から60%」「高さ30%」となります。
		『背景』コマンドでもパーセンテージによる位置、高さの指定ができます。
	
	～選択肢～
		『選択』でも構いません。
		このコマンドはスクリプトの流れを一旦停止させます。
		このコマンドは内容に選択肢を書き、さらにその内容にコマンド、またはスクリプトのファイル名を書きます。
		スクリプトの流れが一旦停止され、選択肢が表示されます。
		ユーザーが選択肢をクリックすると、それに紐付いたコマンドやスクリプトが実行されます。
		実行したコマンドやスクリプトが終了したあと、元の場所から再開します。
		スクリプトのファイル名はパス『作品/<作品名>/シナリオ』内のもので、拡張子は「txt」です。
		
	～エフェクト～
		『効果』でも構いません。
		『基本_HAPPY.txt』や『基本_BAD.txt』で使われている通り、画像面にいくつかのエフェクトをかけることが出来ます。
		
		～準備～
			次のフェードまで画像の更新を止めます。
			
		～フェード～
			今の画面と、準備の間に更新された画面を滑らかに切り替えます。
			内容には<時間>を指定します。
			
		～トランス～
			今の画面と、準備の間に更新された画像の位置、大きさを滑らかに切り替えます。
			内容には<時間>を指定します。
			
		～フラッシュ～
			任意の色で画面をフラッシュします。
			内容にはスペース区切りで<時間>と<色>を指定します。
		
	（オマケ）
	『基本_BAD.txt』を見てもらえれば分かりますが、『背景』や『立ち絵』コマンドでは、
	内容を「無し」（または「なし」）と指定することで、画像を消すことができます。
	また『会話』でも話者名を「無し」にすると名前の表示部分が空欄になり、
	内容丸ごとを「無し」とするとメッセージウィンドウを一時的に消すことが出来ます。
	



～会話文のキーワード～
	サンプルスクリプトの後半に、『\』記号から始まるキーワードが使われている会話文があります。
	それぞれのキーワードは直接表示される代わりに、様々な効果をもたらします。
	
	～キーワード説明～
		～\n～
			改行させ、文の表示を続けさせます。
		
		～\w[<数値>]～
			<数値>の分ウエイトをおきます。
			「\w[5]」なら５文字文のウエイトが入ります。
			
		～\c[<色>]～
			文字の色を変えます。
		
		～\s[<サイズ>]～
			文字の大きさを変えます。
			
		～\b～
			文字を太くします。

		～\C \S \B 等～
			一部のキーワードは大文字版を使うことで効果を取り消せます。

～作り方（２）～
	他にもコマンドはあります。
	『作品/デモ・フラグ/シナリオ/フラグ.txt』を見てください。
	これ以降『<>』で示される型や<演算子>については「型の説明」の項を参照してください。
	
	

～コマンド説明（２）～
		
	～入力～
		ユーザーからの入力を受け付けてパラメータを設定します。
		「<パラメータ名>:<式>」の形式で書くと、<式>が評価された値がデフォルト値になって、入力確認画面が出されます。
		ユーザーが入力を拒否したり、何も入力しなかった場合はデフォルト値が、
		そうでない場合はユーザーが入力した文字列がパラメータに設定されます。
		「<パラメータ名>」の形式で書くと、デフォルト値は空文字になります。
		
	～マーク～
		内容に<マーク名>を書きます。（<式>は使えない）
		サンプルのように「#」で行を始めるとマークとみなされます。
		ここでオートセーブがされる他、マークはジャンプ先の目印や、セーブ時のタイトルになります。
	
	～分岐～
		内容に<式>を書きそのまた内容に、<式>の結果が<真>のとき実行する<コマンド>を書きます。
		サンプルの「好感度＝１」は『「好感度」というパラメータが「1」である時』という条件を表しています。
		しかし、初回は「好感度」というパラメータがまだここまでに出てきておらず、設定もされていません。
		その場合新しく作られ、「0」に設定されます。
		よって初回は２番目の条件式「好感度＝０」が通り、その内容の『会話』コマンドが実行されます。
		そして、終わり方の『分岐』コマンドでは「好感度」パラメータによってエンディングを変え、
		条件がまだ満たされていない場合は先頭にループさせています。
		また、<式>を「無し」にすると、必ず実行される条件式と評価されます。
		
	～パラメータ～
		パラメータを設定します。『変数』でも構いません。
		「<パラメータ名>:<式>」の形式で書くと、<式>が評価されてパラメータが設定されます。
		名前が「$」マークから始まるパラメータはグローバルパラメータとなり、セーブデータを横断して使えます。
		グローバルパラメータは変更の度に即座にセーブされるので乱用は避けてください。
		
	～繰り返し～
		『分岐』コマンドが条件に当てはまるかを、一周だけ調べて終わるのに対して、
		『繰り返し』コマンドは条件に当てはまった場合もう一周します。
		サンプルでは「ココロ」というパラメータに好感度の数だけ絵文字を加える処理をしています。
		そして、その後の会話で好感度の変化と心を表示させています。
		
	～ジャンプ～
		指定したスクリプトへ移り、それが終わると戻ります。
		パラメータは引き継がれます。
		
	～スクリプト～
		スクリプトの特殊な動作を指定します。
		～戻る～、～帰る～
			ジャンプ元に帰ります。
		～終わる～
			再生を終了します。
		

～型の説明～
	
	～<数値>～
		｢+-0123456789.」からなる文字列
		半角全角を区別しない
		0と、0除算等で計算に失敗した時の値「NaN」以外は<真>に評価される
		
		
	～<文字列>～
		「"」と「"」で囲まれた文字列
		空文字「""」以外は<真>に評価される
		
		
	～<演算子>～
		半角全角を区別しない

		～<文字列>と<何か>→<文字列>～
			足す		：　「＋」「+」
				
		～<文字列以外>と<文字列以外>→<数値>～
			足す		：　「＋」「+」
			引く		：　「－」「―」「-」
			掛ける	：　「×」「✕」「＊」「*」
			割る		：　「÷」「／」「/」
			割った余り	：　「％」「%」
	
		～<何か>と<何か>→<条件>～
			等しい	：　「＝」「=」「＝＝」「==」
			等しくない	：　「≠」「!=」
			以上		：　「≧」「>=」
			以下		：　「≦」「<=」
			より大きい	：　「＞」「>」
			より小さい	：　「＜」「<」
			
		～その他～
			Ａが<真>ならＢ、そうでなければＡ（Ａかつ　Ｂのとき）	：　「Ａ＆Ｂ」「Ａ&Ｂ」「Ａ＆＆Ｂ」「Ａ&&Ｂ」
			Ａが<真>ならＡ、そうでなければＢ（ＡまたはＢのとき）	：　「Ａ｜Ｂ」「Ａ|Ｂ」「Ａ｜｜Ｂ」「Ａ||Ｂ」
			Ａが<真>なら<偽>、そうでなければ<真>（Ａでなければ）	：　「！Ａ」「!A」
			Ａが<真>ならＢ、そうでなければＣ（ＡならばＢ、ＡでなければＣ）	：　「Ａ？Ｂ：Ｃ」「A?B:C」

	～<パラメータ名>～
		任意の文字列、ただし記号は厳禁
		「$」記号で始めると作品内の全てのセーブデータで共有されるパラメータになる
		
	～<式>～
		『<パラメータ名><演算子><数値><文字列>』の組み合わせからなる
		
	～<スクリプト名>～
		『（ファイル名）』、『#（マーク名）』、『（ファイル名）#（マーク名）』のいずれかの形式
		
	～<サイズ>～
		「%」を付けるとパーセント指定。
		付けない場合は「10」未満の場合倍率、「10」以上の場合パーセント指定とみなされる。
		
	～<色>～
		色はCSSで使える様々な形式で指定できます。詳しくは以下のURL参照。
		https://developer.mozilla.org/ja/docs/Web/CSS/color_value

	～（いろいろな型に共通すること）～
		記号をあまり使わないこと（『\』等は厳禁）
		大体『\{<式>}』形式で式を埋め込める（ただし<式>中でさらに使うことは出来ない）
		




～作品設定について～
	プレイヤーの起動時に『作品/<作品名>/設定.txt』が設定ファイルとして読み込まれます。
	設定ファイルの書き方は基本的にスクリプトと同様です。
	
	～開始シナリオ～（必須）
		最初に開始する<スクリプト名>を指定します
		
	～バージョン～（推奨）
		作品のバージョンを指定します（任意の文字列）。
		バージョンが異なるセーブデータを無効にすることができるので、
		作品に大きな修正を加えてセーブデータの互換性が無くなった時に変更してください。
		コマンド内容の修正では必要ありませんが、コマンド構造を変更する場合は必須です。
		
	～データ保存名～（推奨）
		これを指定しておくと、作品名（フォルダ名）が変わってもセーブデータを引き継げます。
		また、異なる作品間でセーブデータを共有することもできます。
		他と被らない、変更することのない名前を付けてください。
		


～設定項目説明～
	～開始シナリオ～
		最初に読み込まれるスクリプトファイルの名前を記述します。
		『作品/<作品名>/シナリオ』内においてください。
		
		
